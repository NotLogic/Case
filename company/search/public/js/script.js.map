{"version":3,"sources":["script.js"],"names":["searchConLog","val","console","log","searchDoneFun","value","searchListVal","$","el","i","length","Object","keys","key","html","each","click","text","hide","isSearchListShow","len","show","jqAjax","data","url","ajax","type","dataType","done","fail","xhr","status","always","watchSearchFun","inputVal","_","trim","bind","debounce","focus","blur","setTimeout"],"mappings":"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","file":"script.js","sourcesContent":["(function () {\r\n\r\n    /**\r\n     * 打印输出方法\r\n     * @param val\r\n     */\r\n    let searchConLog = function (val) {\r\n        console.log(val)\r\n    }\r\n\r\n    /**\r\n     * 搜索完成方法\r\n     * @param value\r\n     */\r\n    let searchDoneFun = function (value){\r\n        let searchListVal = $('#searchListVal')\r\n        let el =''\r\n        for(let i = 0; i < value.length;i++){\r\n            for(let key of Object.keys(value[i])) {\r\n               el += `<li><a href=\"javascript:;\">${value[i][key]}</a></li>`\r\n            }\r\n        }\r\n        searchListVal.html(el)\r\n\r\n        // 循环绑定单击事件\r\n        $('#searchListVal li a').each(function () {\r\n            $(this).click(function () {\r\n                $('#searchInput').val($(this).text())\r\n                // 单击选择之后是否调用ajax方法\r\n                // watchSearchFun($(this).text())\r\n                searchConLog($(this).text())\r\n                $('#searchList').hide()\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    /**\r\n     * 是否显示列表方法\r\n     * @returns {boolean}\r\n     */\r\n    let isSearchListShow = function isSearchListShow () {\r\n        let len = $('#searchListVal li').length\r\n        if(len === 0){\r\n            $('#searchList').hide()\r\n            return false\r\n        } else {\r\n            $('#searchList').show()\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * ajax方法\r\n     * @param data\r\n     */\r\n    let jqAjax = function (data){\r\n        let url = 'http://yapi.demo.qunar.com/mock/16916/search/qeury'\r\n        $.ajax({\r\n            url: url,\r\n            type: 'GET',\r\n            data: data,\r\n            dataType: 'json'\r\n        }).done(function (data) {\r\n            // 成功\r\n            searchDoneFun(data)\r\n        }).fail(function (xhr, status) {\r\n            // 失败\r\n            console.log(xhr.status, status)\r\n        }).always(function () {\r\n            // 总会\r\n        })\r\n    }\r\n    jqAjax()\r\n\r\n    /**\r\n     * 监听搜索内容方法\r\n     */\r\n    let watchSearchFun = function (inputVal) {\r\n        let val = _.trim(inputVal)\r\n        // 调用打印输出方法\r\n        searchConLog(val)\r\n        if(val===''){\r\n            // 输入框没有值是否清空\r\n            // $('#searchListVal').empty()\r\n            isSearchListShow()\r\n            return false\r\n        } else {\r\n            jqAjax(val)\r\n        }\r\n\r\n    }\r\n\r\n\r\n    // 监听内容改变执行事件\r\n    $('#searchInput').bind('input propertychange', _.debounce(function () {\r\n        watchSearchFun($(this).val())\r\n    }, 700))\r\n    // 鼠标聚焦执行事件\r\n    $('#searchInput').focus(function () {\r\n        isSearchListShow()\r\n    })\r\n    // 鼠标失焦执行事件\r\n    $('#searchInput').blur(function () {\r\n        setTimeout(function () {\r\n            $('#searchList').hide()\r\n        },300)\r\n    })\r\n\r\n})()\r\n"]}